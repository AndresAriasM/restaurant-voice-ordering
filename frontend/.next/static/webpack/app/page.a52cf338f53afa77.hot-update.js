"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/hooks/useVoice.ts":
/*!*******************************!*\
  !*** ./src/hooks/useVoice.ts ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useVoice: function() { return /* binding */ useVoice; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_cart__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/store/cart */ \"(app-pages-browser)/./src/store/cart.ts\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"(app-pages-browser)/./node_modules/axios/lib/axios.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n\n\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000/api/v1\";\nfunction useVoice() {\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isListening, setIsListening] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [transcript, setTranscript] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const pcRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const dcRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const { sessionId, setSessionId, setItems, setFocusedProduct } = (0,_store_cart__WEBPACK_IMPORTED_MODULE_1__.useCartStore)();\n    const connect = async ()=>{\n        try {\n            console.log(\"\\uD83D\\uDD0C Iniciando conexi\\xf3n...\");\n            // Obtener ephemeral key\n            const { data } = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].post(\"\".concat(API_URL, \"/openai/ephemeral-key\"), {\n                session_id: sessionId || undefined\n            });\n            console.log(\"\\uD83D\\uDD11 Ephemeral key obtenida, session:\", data.session_id);\n            setSessionId(data.session_id);\n            // Crear RTCPeerConnection\n            const pc = new RTCPeerConnection();\n            // Agregar audio local\n            const ms = await navigator.mediaDevices.getUserMedia({\n                audio: true\n            });\n            pc.addTrack(ms.getTracks()[0]);\n            console.log(\"\\uD83C\\uDFA4 Micr\\xf3fono conectado\");\n            // Reproducir audio remoto\n            pc.ontrack = (e)=>{\n                const audio = new Audio();\n                audio.srcObject = e.streams[0];\n                audio.play();\n                setIsListening(true);\n                console.log(\"\\uD83D\\uDD0A Audio remoto conectado\");\n            };\n            // Data channel para eventos\n            const dc = pc.createDataChannel(\"oai-events\");\n            dc.onopen = ()=>{\n                console.log(\"✅ Data channel abierto\");\n                // Configurar sesión con turn-taking\n                dc.send(JSON.stringify({\n                    type: \"session.update\",\n                    session: {\n                        modalities: [\n                            \"text\",\n                            \"audio\"\n                        ],\n                        instructions: \"Eres el asistente de Burger House. Session ID: \".concat(data.session_id, \". IMPORTANTE: Siempre incluye session_id en las llamadas a funciones y SIEMPRE responde verbalmente.\"),\n                        turn_detection: {\n                            type: \"server_vad\",\n                            threshold: 0.5,\n                            prefix_padding_ms: 300,\n                            silence_duration_ms: 500\n                        },\n                        input_audio_transcription: {\n                            model: \"whisper-1\"\n                        }\n                    }\n                }));\n            };\n            dc.onmessage = async (e)=>{\n                const event = JSON.parse(e.data);\n                console.log(\"\\uD83D\\uDCE5 Event:\", event.type, event);\n                // Transcripción de respuesta del asistente\n                if (event.type === \"response.audio_transcript.done\") {\n                    setTranscript((prev)=>[\n                            ...prev,\n                            \"Asistente: \".concat(event.transcript)\n                        ]);\n                }\n                // Transcripción del usuario\n                if (event.type === \"conversation.item.input_audio_transcription.completed\") {\n                    setTranscript((prev)=>[\n                            ...prev,\n                            \"T\\xfa: \".concat(event.transcript)\n                        ]);\n                }\n                // Llamada a función\n                if (event.type === \"response.function_call_arguments.done\") {\n                    const args = JSON.parse(event.arguments);\n                    console.log(\"\\uD83D\\uDD27 Function call:\", event.name, args);\n                    // Enfocar producto si se menciona\n                    if (args.product_id) {\n                        console.log(\"\\uD83C\\uDFAF Enfocando producto:\", args.product_id);\n                        setFocusedProduct(args.product_id);\n                    }\n                    // Ejecutar función en backend\n                    try {\n                        const result = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].post(\"\".concat(API_URL, \"/openai/function-call\"), {\n                            name: event.name,\n                            arguments: {\n                                ...args,\n                                session_id: data.session_id\n                            }\n                        });\n                        console.log(\"✅ Function result:\", result.data);\n                        // Actualizar carrito si hay items\n                        if (result.data.items) {\n                            console.log(\"\\uD83D\\uDED2 Actualizando carrito:\", result.data.items);\n                            setItems(result.data.items);\n                        }\n                        // Enviar resultado de vuelta a OpenAI\n                        dc.send(JSON.stringify({\n                            type: \"conversation.item.create\",\n                            item: {\n                                type: \"function_call_output\",\n                                call_id: event.call_id,\n                                output: JSON.stringify(result.data)\n                            }\n                        }));\n                        // IMPORTANTE: Forzar que genere una respuesta\n                        dc.send(JSON.stringify({\n                            type: \"response.create\"\n                        }));\n                        console.log(\"\\uD83C\\uDFA4 Forzando respuesta del asistente...\");\n                    } catch (error) {\n                        console.error(\"❌ Error ejecutando funci\\xf3n:\", error);\n                    }\n                }\n            };\n            // Crear oferta WebRTC\n            const offer = await pc.createOffer();\n            await pc.setLocalDescription(offer);\n            console.log(\"\\uD83D\\uDCE4 Enviando oferta SDP...\");\n            // Enviar oferta a OpenAI\n            const sdpResponse = await fetch(\"https://api.openai.com/v1/realtime/calls\", {\n                method: \"POST\",\n                body: offer.sdp,\n                headers: {\n                    Authorization: \"Bearer \".concat(data.ephemeral_key),\n                    \"Content-Type\": \"application/sdp\"\n                }\n            });\n            const answerSdp = await sdpResponse.text();\n            await pc.setRemoteDescription({\n                type: \"answer\",\n                sdp: answerSdp\n            });\n            console.log(\"✅ Conexi\\xf3n WebRTC establecida\");\n            pcRef.current = pc;\n            dcRef.current = dc;\n            setIsConnected(true);\n        } catch (error) {\n            console.error(\"❌ Error conectando:\", error);\n            alert(\"Error al conectar. Revisa la consola (F12)\");\n        }\n    };\n    const disconnect = ()=>{\n        if (pcRef.current) {\n            pcRef.current.close();\n            setIsConnected(false);\n            setIsListening(false);\n            console.log(\"\\uD83D\\uDD0C Desconectado\");\n        }\n    };\n    return {\n        isConnected,\n        isListening,\n        transcript,\n        connect,\n        disconnect\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VWb2ljZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBeUM7QUFDRztBQUNsQjtBQUUxQixNQUFNSSxVQUFVQyxPQUFPQSxDQUFDQyxHQUFHLENBQUNDLG1CQUFtQixJQUFJO0FBRTVDLFNBQVNDO0lBQ2QsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdWLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ1csYUFBYUMsZUFBZSxHQUFHWiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNhLFlBQVlDLGNBQWMsR0FBR2QsK0NBQVFBLENBQVcsRUFBRTtJQUN6RCxNQUFNZSxRQUFRZCw2Q0FBTUEsQ0FBMkI7SUFDL0MsTUFBTWUsUUFBUWYsNkNBQU1BLENBQXdCO0lBQzVDLE1BQU0sRUFBRWdCLFNBQVMsRUFBRUMsWUFBWSxFQUFFQyxRQUFRLEVBQUVDLGlCQUFpQixFQUFFLEdBQUdsQix5REFBWUE7SUFFN0UsTUFBTW1CLFVBQVU7UUFDZCxJQUFJO1lBQ0ZDLFFBQVFDLEdBQUcsQ0FBQztZQUVaLHdCQUF3QjtZQUN4QixNQUFNLEVBQUVDLElBQUksRUFBRSxHQUFHLE1BQU1yQiw2Q0FBS0EsQ0FBQ3NCLElBQUksQ0FBQyxHQUFXLE9BQVJyQixTQUFRLDBCQUF3QjtnQkFDbkVzQixZQUFZVCxhQUFhVTtZQUMzQjtZQUVBTCxRQUFRQyxHQUFHLENBQUMsaURBQXVDQyxLQUFLRSxVQUFVO1lBQ2xFUixhQUFhTSxLQUFLRSxVQUFVO1lBRTVCLDBCQUEwQjtZQUMxQixNQUFNRSxLQUFLLElBQUlDO1lBRWYsc0JBQXNCO1lBQ3RCLE1BQU1DLEtBQUssTUFBTUMsVUFBVUMsWUFBWSxDQUFDQyxZQUFZLENBQUM7Z0JBQUVDLE9BQU87WUFBSztZQUNuRU4sR0FBR08sUUFBUSxDQUFDTCxHQUFHTSxTQUFTLEVBQUUsQ0FBQyxFQUFFO1lBQzdCZCxRQUFRQyxHQUFHLENBQUM7WUFFWiwwQkFBMEI7WUFDMUJLLEdB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XSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUNhcnRTdG9yZSB9IGZyb20gJ0Avc3RvcmUvY2FydCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5jb25zdCBBUElfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS92MSc7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VWb2ljZSgpIHtcbiAgY29uc3QgW2lzQ29ubmVjdGVkLCBzZXRJc0Nvbm5lY3RlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0xpc3RlbmluZywgc2V0SXNMaXN0ZW5pbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdHJhbnNjcmlwdCwgc2V0VHJhbnNjcmlwdF0gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBwY1JlZiA9IHVzZVJlZjxSVENQZWVyQ29ubmVjdGlvbiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBkY1JlZiA9IHVzZVJlZjxSVENEYXRhQ2hhbm5lbCB8IG51bGw+KG51bGwpO1xuICBjb25zdCB7IHNlc3Npb25JZCwgc2V0U2Vzc2lvbklkLCBzZXRJdGVtcywgc2V0Rm9jdXNlZFByb2R1Y3QgfSA9IHVzZUNhcnRTdG9yZSgpO1xuXG4gIGNvbnN0IGNvbm5lY3QgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SMIEluaWNpYW5kbyBjb25leGnDs24uLi4nKTtcbiAgICAgIFxuICAgICAgLy8gT2J0ZW5lciBlcGhlbWVyYWwga2V5XG4gICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX1VSTH0vb3BlbmFpL2VwaGVtZXJhbC1rZXlgLCB7XG4gICAgICAgIHNlc3Npb25faWQ6IHNlc3Npb25JZCB8fCB1bmRlZmluZWQsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ/CflJEgRXBoZW1lcmFsIGtleSBvYnRlbmlkYSwgc2Vzc2lvbjonLCBkYXRhLnNlc3Npb25faWQpO1xuICAgICAgc2V0U2Vzc2lvbklkKGRhdGEuc2Vzc2lvbl9pZCk7XG5cbiAgICAgIC8vIENyZWFyIFJUQ1BlZXJDb25uZWN0aW9uXG4gICAgICBjb25zdCBwYyA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbigpO1xuXG4gICAgICAvLyBBZ3JlZ2FyIGF1ZGlvIGxvY2FsXG4gICAgICBjb25zdCBtcyA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgYXVkaW86IHRydWUgfSk7XG4gICAgICBwYy5hZGRUcmFjayhtcy5nZXRUcmFja3MoKVswXSk7XG4gICAgICBjb25zb2xlLmxvZygn8J+OpCBNaWNyw7Nmb25vIGNvbmVjdGFkbycpO1xuXG4gICAgICAvLyBSZXByb2R1Y2lyIGF1ZGlvIHJlbW90b1xuICAgICAgcGMub250cmFjayA9IChlKSA9PiB7XG4gICAgICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKCk7XG4gICAgICAgIGF1ZGlvLnNyY09iamVjdCA9IGUuc3RyZWFtc1swXTtcbiAgICAgICAgYXVkaW8ucGxheSgpO1xuICAgICAgICBzZXRJc0xpc3RlbmluZyh0cnVlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIogQXVkaW8gcmVtb3RvIGNvbmVjdGFkbycpO1xuICAgICAgfTtcblxuICAgICAgLy8gRGF0YSBjaGFubmVsIHBhcmEgZXZlbnRvc1xuICAgICAgY29uc3QgZGMgPSBwYy5jcmVhdGVEYXRhQ2hhbm5lbCgnb2FpLWV2ZW50cycpO1xuICAgICAgXG4gICAgICBkYy5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgRGF0YSBjaGFubmVsIGFiaWVydG8nKTtcbiAgICAgICAgLy8gQ29uZmlndXJhciBzZXNpw7NuIGNvbiB0dXJuLXRha2luZ1xuICAgICAgICBkYy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB0eXBlOiAnc2Vzc2lvbi51cGRhdGUnLFxuICAgICAgICAgIHNlc3Npb246IHtcbiAgICAgICAgICAgIG1vZGFsaXRpZXM6IFsndGV4dCcsICdhdWRpbyddLFxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiBgRXJlcyBlbCBhc2lzdGVudGUgZGUgQnVyZ2VyIEhvdXNlLiBTZXNzaW9uIElEOiAke2RhdGEuc2Vzc2lvbl9pZH0uIElNUE9SVEFOVEU6IFNpZW1wcmUgaW5jbHV5ZSBzZXNzaW9uX2lkIGVuIGxhcyBsbGFtYWRhcyBhIGZ1bmNpb25lcyB5IFNJRU1QUkUgcmVzcG9uZGUgdmVyYmFsbWVudGUuYCxcbiAgICAgICAgICAgIHR1cm5fZGV0ZWN0aW9uOiB7XG4gICAgICAgICAgICAgIHR5cGU6ICdzZXJ2ZXJfdmFkJyxcbiAgICAgICAgICAgICAgdGhyZXNob2xkOiAwLjUsXG4gICAgICAgICAgICAgIHByZWZpeF9wYWRkaW5nX21zOiAzMDAsXG4gICAgICAgICAgICAgIHNpbGVuY2VfZHVyYXRpb25fbXM6IDUwMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlucHV0X2F1ZGlvX3RyYW5zY3JpcHRpb246IHtcbiAgICAgICAgICAgICAgbW9kZWw6ICd3aGlzcGVyLTEnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICB9O1xuXG4gICAgICBkYy5vbm1lc3NhZ2UgPSBhc3luYyAoZSkgPT4ge1xuICAgICAgICBjb25zdCBldmVudCA9IEpTT04ucGFyc2UoZS5kYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk6UgRXZlbnQ6JywgZXZlbnQudHlwZSwgZXZlbnQpO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJhbnNjcmlwY2nDs24gZGUgcmVzcHVlc3RhIGRlbCBhc2lzdGVudGVcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdyZXNwb25zZS5hdWRpb190cmFuc2NyaXB0LmRvbmUnKSB7XG4gICAgICAgICAgc2V0VHJhbnNjcmlwdChwcmV2ID0+IFsuLi5wcmV2LCBgQXNpc3RlbnRlOiAke2V2ZW50LnRyYW5zY3JpcHR9YF0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBUcmFuc2NyaXBjacOzbiBkZWwgdXN1YXJpb1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLmlucHV0X2F1ZGlvX3RyYW5zY3JpcHRpb24uY29tcGxldGVkJykge1xuICAgICAgICAgIHNldFRyYW5zY3JpcHQocHJldiA9PiBbLi4ucHJldiwgYFTDujogJHtldmVudC50cmFuc2NyaXB0fWBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExsYW1hZGEgYSBmdW5jacOzblxuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRvbmUnKSB7XG4gICAgICAgICAgY29uc3QgYXJncyA9IEpTT04ucGFyc2UoZXZlbnQuYXJndW1lbnRzKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpyBGdW5jdGlvbiBjYWxsOicsIGV2ZW50Lm5hbWUsIGFyZ3MpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEVuZm9jYXIgcHJvZHVjdG8gc2kgc2UgbWVuY2lvbmFcbiAgICAgICAgICBpZiAoYXJncy5wcm9kdWN0X2lkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OryBFbmZvY2FuZG8gcHJvZHVjdG86JywgYXJncy5wcm9kdWN0X2lkKTtcbiAgICAgICAgICAgIHNldEZvY3VzZWRQcm9kdWN0KGFyZ3MucHJvZHVjdF9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEVqZWN1dGFyIGZ1bmNpw7NuIGVuIGJhY2tlbmRcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXhpb3MucG9zdChgJHtBUElfVVJMfS9vcGVuYWkvZnVuY3Rpb24tY2FsbGAsIHtcbiAgICAgICAgICAgICAgbmFtZTogZXZlbnQubmFtZSxcbiAgICAgICAgICAgICAgYXJndW1lbnRzOiB7IC4uLmFyZ3MsIHNlc3Npb25faWQ6IGRhdGEuc2Vzc2lvbl9pZCB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBGdW5jdGlvbiByZXN1bHQ6JywgcmVzdWx0LmRhdGEpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBY3R1YWxpemFyIGNhcnJpdG8gc2kgaGF5IGl0ZW1zXG4gICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEuaXRlbXMpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfm5IgQWN0dWFsaXphbmRvIGNhcnJpdG86JywgcmVzdWx0LmRhdGEuaXRlbXMpO1xuICAgICAgICAgICAgICBzZXRJdGVtcyhyZXN1bHQuZGF0YS5pdGVtcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEVudmlhciByZXN1bHRhZG8gZGUgdnVlbHRhIGEgT3BlbkFJXG4gICAgICAgICAgICBkYy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgdHlwZTogJ2NvbnZlcnNhdGlvbi5pdGVtLmNyZWF0ZScsXG4gICAgICAgICAgICAgIGl0ZW06IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb25fY2FsbF9vdXRwdXQnLFxuICAgICAgICAgICAgICAgIGNhbGxfaWQ6IGV2ZW50LmNhbGxfaWQsXG4gICAgICAgICAgICAgICAgb3V0cHV0OiBKU09OLnN0cmluZ2lmeShyZXN1bHQuZGF0YSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJTVBPUlRBTlRFOiBGb3J6YXIgcXVlIGdlbmVyZSB1bmEgcmVzcHVlc3RhXG4gICAgICAgICAgICBkYy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlLmNyZWF0ZSdcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfjqQgRm9yemFuZG8gcmVzcHVlc3RhIGRlbCBhc2lzdGVudGUuLi4nKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGVqZWN1dGFuZG8gZnVuY2nDs246JywgZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gQ3JlYXIgb2ZlcnRhIFdlYlJUQ1xuICAgICAgY29uc3Qgb2ZmZXIgPSBhd2FpdCBwYy5jcmVhdGVPZmZlcigpO1xuICAgICAgYXdhaXQgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7XG4gICAgICBjb25zb2xlLmxvZygn8J+TpCBFbnZpYW5kbyBvZmVydGEgU0RQLi4uJyk7XG5cbiAgICAgIC8vIEVudmlhciBvZmVydGEgYSBPcGVuQUlcbiAgICAgIGNvbnN0IHNkcFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvcmVhbHRpbWUvY2FsbHMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBvZmZlci5zZHAsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7ZGF0YS5lcGhlbWVyYWxfa2V5fWAsXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9zZHAnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGFuc3dlclNkcCA9IGF3YWl0IHNkcFJlc3BvbnNlLnRleHQoKTtcbiAgICAgIGF3YWl0IHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKHtcbiAgICAgICAgdHlwZTogJ2Fuc3dlcicsXG4gICAgICAgIHNkcDogYW5zd2VyU2RwLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCfinIUgQ29uZXhpw7NuIFdlYlJUQyBlc3RhYmxlY2lkYScpO1xuICAgICAgcGNSZWYuY3VycmVudCA9IHBjO1xuICAgICAgZGNSZWYuY3VycmVudCA9IGRjO1xuICAgICAgc2V0SXNDb25uZWN0ZWQodHJ1ZSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGNvbmVjdGFuZG86JywgZXJyb3IpO1xuICAgICAgYWxlcnQoJ0Vycm9yIGFsIGNvbmVjdGFyLiBSZXZpc2EgbGEgY29uc29sYSAoRjEyKScpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgIGlmIChwY1JlZi5jdXJyZW50KSB7XG4gICAgICBwY1JlZi5jdXJyZW50LmNsb3NlKCk7XG4gICAgICBzZXRJc0Nvbm5lY3RlZChmYWxzZSk7XG4gICAgICBzZXRJc0xpc3RlbmluZyhmYWxzZSk7XG4gICAgICBjb25zb2xlLmxvZygn8J+UjCBEZXNjb25lY3RhZG8nKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHsgaXNDb25uZWN0ZWQsIGlzTGlzdGVuaW5nLCB0cmFuc2NyaXB0LCBjb25uZWN0LCBkaXNjb25uZWN0IH07XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlUmVmIiwidXNlQ2FydFN0b3JlIiwiYXhpb3MiLCJBUElfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJ1c2VWb2ljZSIsImlzQ29ubmVjdGVkIiwic2V0SXNDb25uZWN0ZWQiLCJpc0xpc3RlbmluZyIsInNldElzTGlzdGVuaW5nIiwidHJhbnNjcmlwdCIsInNldFRyYW5zY3JpcHQiLCJwY1JlZiIsImRjUmVmIiwic2Vzc2lvbklkIiwic2V0U2Vzc2lvbklkIiwic2V0SXRlbXMiLCJzZXRGb2N1c2VkUHJvZHVjdCIsImNvbm5lY3QiLCJjb25zb2xlIiwibG9nIiwiZGF0YSIsInBvc3QiLCJzZXNzaW9uX2lkIiwidW5kZWZpbmVkIiwicGMiLCJSVENQZWVyQ29ubmVjdGlvbiIsIm1zIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwiYXVkaW8iLCJhZGRUcmFjayIsImdldFRyYWNrcyIsIm9udHJhY2siLCJlIiwiQXVkaW8iLCJzcmNPYmplY3QiLCJzdHJlYW1zIiwicGxheSIsImRjIiwiY3JlYXRlRGF0YUNoYW5uZWwiLCJvbm9wZW4iLCJzZW5kIiwiSlNPTiIsInN0cmluZ2lmeSIsInR5cGUiLCJzZXNzaW9uIiwibW9kYWxpdGllcyIsImluc3RydWN0aW9ucyIsInR1cm5fZGV0ZWN0aW9uIiwidGhyZXNob2xkIiwicHJlZml4X3BhZGRpbmdfbXMiLCJzaWxlbmNlX2R1cmF0aW9uX21zIiwiaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbiIsIm1vZGVsIiwib25tZXNzYWdlIiwiZXZlbnQiLCJwYXJzZSIsInByZXYiLCJhcmdzIiwiYXJndW1lbnRzIiwibmFtZSIsInByb2R1Y3RfaWQiLCJyZXN1bHQiLCJpdGVtcyIsIml0ZW0iLCJjYWxsX2lkIiwib3V0cHV0IiwiZXJyb3IiLCJvZmZlciIsImNyZWF0ZU9mZmVyIiwic2V0TG9jYWxEZXNjcmlwdGlvbiIsInNkcFJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5Iiwic2RwIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJlcGhlbWVyYWxfa2V5IiwiYW5zd2VyU2RwIiwidGV4dCIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwiY3VycmVudCIsImFsZXJ0IiwiZGlzY29ubmVjdCIsImNsb3NlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useVoice.ts\n"));

/***/ })

});